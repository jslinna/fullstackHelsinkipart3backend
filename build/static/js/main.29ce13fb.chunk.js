(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),c=t(13),r=t.n(c),u=t(2),i=function(e){return o.a.createElement("div",null,"filter: ",o.a.createElement("input",{value:e.newFilter,onChange:e.handleFilterChange}))},l=function(e){return o.a.createElement("form",{onSubmit:e.addContact},o.a.createElement("div",null,"name: ",o.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),o.a.createElement("div",null,"number: ",o.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add")))},m=function(e){var n=e.persons.filter((function(n){return new RegExp(e.newFilter,"i").test(n.name)}));return o.a.createElement("div",null,function(n){return n.map((function(n){return o.a.createElement("div",{key:n.id},n.name," ",n.number," ",o.a.createElement("button",{onClick:function(){return function(n){window.confirm("Do you really want to delete contact: ".concat(n.name," ?"))&&e.handleClick(n.id)}(n)}},"delete"))}))}(n))},s=t(3),f=t.n(s),d="http://localhost:3001/api/persons",h=function(){return f.a.get(d).then((function(e){return e.data}))},b=function(e){return f.a.post(d,e).then((function(e){return e.data}))},p=function(e,n){return f.a.put("".concat(d,"/").concat(e),n).then((function(e){return e.data}))},g=function(e){return f.a.delete("".concat(d,"/").concat(e),e).then((function(e){return e.data}))},E=(t(37),function(e){return""===e.notification?null:"success"===e.notification.type?o.a.createElement("div",{className:"notificationSuccess"},e.notification.message):o.a.createElement("div",{className:"notificationError"},e.notification.message)}),v=function(){Object(a.useEffect)((function(){h().then((function(e){return c(e)}))}),[]);var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],c=n[1],r=Object(a.useState)(""),s=Object(u.a)(r,2),f=s[0],d=s[1],v=Object(a.useState)(""),w=Object(u.a)(v,2),C=w[0],y=w[1],j=Object(a.useState)(""),N=Object(u.a)(j,2),O=N[0],k=N[1],S=Object(a.useState)(""),F=Object(u.a)(S,2),T=F[0],x=F[1],D=function(e){console.log(e),g(e).then(c(t.filter((function(n){return n.id!==e})))).catch((function(e){console.log(e)}))};return o.a.createElement("div",null,o.a.createElement("h1",null,"Phonebook"),o.a.createElement(E,{notification:T}),o.a.createElement(i,{newFilter:O,handleFilterChange:function(e){k(e.target.value)}}),o.a.createElement("h2",null,"add a new"),o.a.createElement(l,{addContact:function(e){e.preventDefault();var n={name:f,number:C},a={message:T,type:""};if(t.some((function(e){return e.name===f}))){var o=t.filter((function(e){return e.name===f})),r=window.confirm("".concat(f," is already added to phonebook, replace the old number with a new one?"));return console.log(o[0].id),r?void p(o[0].id,n).then((function(e){console.log(e),c(t.map((function(n){return n.id!==o[0].id?n:e}))),a.message="Updated ".concat(e.name,"'s number"),a.type="success",x(a),setTimeout((function(){x("")}),5e3)})).catch((function(e){console.log(e),a.message="Information of ".concat(o[0].name," has already been removed from the server"),a.type="error",x(a),setTimeout((function(){x("")}),5e3)})):void 0}b(n).then((function(e){console.log(e),c(t.concat(e)),d(""),y(""),a.message="Added ".concat(e.name),a.type="success",x(a),setTimeout((function(){x("")}),5e3)})).catch((function(e){console.log(e)}))},newName:f,newNumber:C,handleNameChange:function(e){d(e.target.value)},handleNumberChange:function(e){y(e.target.value)}}),o.a.createElement("h3",null,"Numbers"),o.a.createElement(m,{persons:t,newFilter:O,handleClick:function(e){D(e)}}))};r.a.render(o.a.createElement(v,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.29ce13fb.chunk.js.map